// Shared exercise layout & theming (Material-friendly)

.exercise-page { max-width: 960px; margin: 0 auto; padding: 1.25rem 1.25rem 2.5rem; outline: none; }
.exercise-header { display:flex; align-items:center; gap:1rem; margin-bottom:1.25rem; position:relative; }
.exercise-header h1 { flex:1; margin:0; font-size:clamp(1.35rem,2.2vw,2rem); font-weight:600; }
.exercise-header .progress-wrapper { flex:1; max-width:280px; display:flex; flex-direction:column; gap:4px; }
.exercise-header .progress-label { font-size:.65rem; letter-spacing:.6px; text-transform:uppercase; opacity:.75; }

.exercise-content { display:grid; gap:1.25rem; grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); align-items:start; }

mat-card.exercise-card { display:flex; flex-direction:column; gap:.75rem; }
.exercise-card .card-header { display:flex; align-items:center; gap:.5rem; font-weight:600; font-size:.95rem; margin:0 0 .25rem; }
.exercise-card p.instructions { margin:.15rem 0 0; font-size:.85rem; opacity:.85; }

.audio-buttons { display:flex; flex-wrap:wrap; gap:.5rem; }
.audio-buttons button mat-icon { margin-right:4px; }
.playing-indicator { display:flex; align-items:center; gap:.5rem; font-size:.8rem; color:#2e7d32; }
.playing-indicator mat-icon.spinning { animation: ex-spin 2s linear infinite; }
@keyframes ex-spin { from { transform:rotate(0);} to { transform:rotate(360deg);} }

.answer-group { display:flex; flex-wrap:wrap; gap:.5rem; }
.answer-group .mat-button-toggle { flex:1 1 140px; min-width:140px; }
.answer-group .mat-button-toggle-button { padding:.4rem .75rem; }
.answer-group .mat-button-toggle-checked { box-shadow:0 0 0 2px rgba(63,81,181,.35) inset; }

.feedback-box { margin-top:.5rem; border-left:4px solid transparent; border-radius:8px; padding:.75rem .9rem; font-size:.8rem; line-height:1.35; background:#ffebee; border:1px solid #ffcdd2; }
.feedback-box.correct { background:#e8f5e9; border-color:#c8e6c9; border-left-color:#4caf50; }
.feedback-box p { margin:0 0 .4rem; font-weight:600; }
.feedback-box .interval-info p { margin:.2rem 0; font-weight:400; font-size:.7rem; opacity:.8; }

.nav-row { margin-top:.5rem; }
.shortcut-hint { margin-top:1.25rem; text-align:center; font-size:.65rem; letter-spacing:.5px; opacity:.7; }

.mode-chips { display:flex; gap:.5rem; flex-wrap:wrap; }

@media (max-width:760px){
  .exercise-content { grid-template-columns:1fr; }
  .exercise-header { flex-wrap:wrap; padding-top:2.2rem; }
  .exercise-header button[mat-icon-button]{ position:absolute; left:.35rem; top:.35rem; }
  .answer-group .mat-button-toggle { flex:1 1 100%; }
}
